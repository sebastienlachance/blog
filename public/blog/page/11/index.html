
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Sebastien Lachance</title>
  <meta name="author" content="Sebastien Lachance">

  
  <meta name="description" content="Problem : I have a collection of entities in my repository. Those entities are not supposed to be visible to the outside world. But, In a test I am &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://sebastienlachance.com/blog/page/11">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/sebastienlachance/feed" rel="alternate" title="Sebastien Lachance" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-10165653-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Sebastien Lachance</a></h1>
  
    <h2>Learning new things everyday</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/sebastienlachance/feed" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:sebastienlachance.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/readonlycollection3ct3e/">Create a read-only collection with ReadOnlyCollection<T></a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-02-26T04:18:00-05:00" pubdate data-updated="true">Feb 26<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><span style="text-decoration: underline;"><strong>Problem :</strong> </span></p>


<p>I have a collection of entities in my repository. Those entities are not supposed to be visible to the outside world. But, In a test I am supposed to see if all objects are still there and I can&#8217;t use the GetAll method because it goes to the database and return everything, not just the collection of entities in my repository.</p>


<p><span style="text-decoration: underline;"><strong>Solution :</strong></span></p>


<p>I could expose the collection but how can I be sure that nothing will be changed. I could create a copy of the collection but that would not reflect the &#8220;Entity&#8221; concept. I know that Java has support for returning a read-only collection. A little bit of search and I found the class <strong>ReadOnlyCollection&lt;T&gt;.</strong> This is thread-safe and any changes to the original collection will be reflected in it since it is only a wrapper.</p>


<div>
<pre style="line-height: 12pt; background-color: #f4f4f4; margin: 0px; width: 100%; font-family: consolas, 'Courier New', courier, monospace; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff">public</span> <span style="color: #0000ff">static</span> IList&lt;IRecipe&gt; _identityMap = <span style="color: #0000ff">new</span> List&lt;IRecipe&gt;();

  <span style="color: #0000ff">public</span> IList&lt;IRecipe&gt; IdentityMap
  {
      get { <span style="color: #0000ff">return</span> <span style="color: #0000ff">new</span> ReadOnlyCollection&lt;IRecipe&gt;(_identityMap); }
  }</pre>
</div>


<p>Could not be easier!</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/unit-of-work/">Unit Of Work</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-02-22T05:47:00-05:00" pubdate data-updated="true">Feb 22<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is an interesting pattern. I was using it without giving it a name. I encountered this pattern while reading the <a class="v1" target="_new">Jimmy&nbsp;Nilsson</a>&#8217;s book : Applying Domain-Driven Design and Patterns - With Examples in C# and .NET. The Unit Of Work is a way to create a logical group of object. The most basic example I can think of is the example of an Order. An order contains OrderLines. The Order and the OrderLines are part of the same logical group. We say that this is an Unit Of Work. I tend to think of it at the way I&#8217;ll save the Order. Do I call a service to insert the Order and another to save the OrderLines? Or do I call a single service that will persist it all at the same time (maybe using a transaction)? I will use a single service that will save the Order, the OrderLines and all other related information. Everything that must be persisted at the same time is said to be an Unit Of Work.</p>


<p>In the RecipeHelper project (the personnal project I am working on), I have a single Unit Or Work (at the moment). The Recipe is the root and contains a list of steps to follow and a list of ingredients. When I persist a recipe, I persist everything in the object graph.</p>


<p>Here is some resources from experts that can help you more with applying this pattern :</p>


<ul>
<li><a title="http://www.martinfowler.com/eaaCatalog/unitOfWork.html" href="http://www.martinfowler.com/eaaCatalog/unitOfWork.html">P of EAA: Unit of Work</a></li>
<li><a href="http://www.hibernate.org/42.html">NHibernate and Unit Of Work</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/setting_up_a_basic_continuous_integration_server_with_teamcity/">Setting up a basic continuous integration server with TeamCity</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-02-08T12:00:00-05:00" pubdate data-updated="true">Feb 8<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p> <p>What is TeamCity? It&#8217;s a software that you would use to do <a href="http://martinfowler.com/articles/continuousIntegration.html" target="_blank">continuous integration</a>. Continuous integration is very important and it should never be an option on a serious project (that&#8217;s is my opinion and I strongly believe in the values it provide).</p></p>

<p>If you have followed the <a href="http://sebastienlachance.com/building-a-new-application-series/" target="_blank">Building A New Application Series</a>, you may be wondering why I would want to do that after setting up a complete integration server with CruiseControl.NET. Well, I was skeptical when I first heard about all the fuss surrounding this <a href="http://www.jetbrains.com/" target="_blank">JetBrains</a> project. After all, CruiseControl.NET was doing everything I wanted and more.</p>


<p>So the reason I made the switch is because of the time it take to set it up : 20 minutes. Everything was fully functional in under 20 minutes. I absolutely got no error at all. I just got through all the step of the wizard and then : done. Unit testing, code coverage, build, reports, etc&#8230; And it&#8217;s absolutely free for small team.</p>


<p>The big downside for me was the lack of support out of the box for other unit testing framework (other than NUnit and MSTest). My project is using MbUnit so I will need to do some more research to integrate it in my build process. But it is possible if you want to invest time in doing so.</p>


<p>So let&#8217;s get started with this little tutorial :</p>


<p>1. Download <a href="http://www.jetbrains.com/teamcity/" target="_blank">TeamCity</a>.</p>


<p>2. Start the installation.</p>


<p>Just follow all the steps. I encountered a slight problem due to something already on port 80, so I used the port 8080.</p>


<p><a title="TeamCity_001" href="http://www.flickr.com/photos/63483657@N00/2246121387/"><img src="http://static.flickr.com/2295/2246121387_bf1eaae094.jpg" border="0" alt="TeamCity_001"></a></p>


<p><a title="TeamCity_002" href="http://www.flickr.com/photos/63483657@N00/2246121389/"><img src="http://static.flickr.com/2366/2246121389_06f17f5d5e.jpg" border="0" alt="TeamCity_002"></a></p>


<p><a title="TeamCity_003" href="http://www.flickr.com/photos/63483657@N00/2246121395/"><img src="http://static.flickr.com/2391/2246121395_a81b1d955c.jpg" border="0" alt="TeamCity_003"></a></p>


<p><a title="TeamCity_004" href="http://www.flickr.com/photos/63483657@N00/2246121397/"><img src="http://static.flickr.com/2266/2246121397_d27ffa9754.jpg" border="0" alt="TeamCity_004"></a></p>


<p><a title="TeamCity_005" href="http://www.flickr.com/photos/63483657@N00/2246121399/"><img src="http://static.flickr.com/2164/2246121399_a18dd1cc62.jpg" border="0" alt="TeamCity_005"></a></p>


<p><a title="TeamCity_006" href="http://www.flickr.com/photos/63483657@N00/2246121401/"><img src="http://static.flickr.com/2345/2246121401_5db16b8ce5.jpg" border="0" alt="TeamCity_006"></a></p>


<p><a title="TeamCity_007" href="http://www.flickr.com/photos/63483657@N00/2246123377/"><img src="http://static.flickr.com/2175/2246123377_676d0d312b.jpg" border="0" alt="TeamCity_007"></a></p>


<p>I left everything intact in this screen, but this is where you specify some default folder used bu the build agents. The <strong>tempDir </strong>and<strong> workDir</strong> will be used to store your application artifacts and even your source file before the compilation if you don&#8217;t give it one in the configuration (later).</p>


<p><a title="TeamCity_008" href="http://www.flickr.com/photos/63483657@N00/2246123379/"><img src="http://static.flickr.com/2064/2246123379_b4b8438c38.jpg" border="0" alt="TeamCity_008"></a></p>


<p><a title="TeamCity_009" href="http://www.flickr.com/photos/63483657@N00/2246123381/"><img src="http://static.flickr.com/2389/2246123381_34aa922d4a.jpg" border="0" alt="TeamCity_009"></a></p>


<p><a title="TeamCity_010" href="http://www.flickr.com/photos/63483657@N00/2246123385/"><img src="http://static.flickr.com/2295/2246123385_74a8416c54.jpg" border="0" alt="TeamCity_010"></a></p>


<p>That&#8217;s it, you have installed TeamCity. Now let&#8217;s add our project to it.</p>


<p>3. Open TeamCity !!!</p>


<p><a title="TeamCity_011" href="http://www.flickr.com/photos/63483657@N00/2246123387/"><img src="http://static.flickr.com/2410/2246123387_81dfdba0b9.jpg" border="0" alt="TeamCity_011"></a></p>


<p><a title="TeamCity_012" href="http://www.flickr.com/photos/63483657@N00/2246123391/"><img src="http://static.flickr.com/2087/2246123391_e1d68c0e3f.jpg" border="0" alt="TeamCity_012"></a></p>


<p>Nothing too complicated here, just enter the username/password you want for the administrator account. The email will be used to sent important information the build server would want you to know..</p>


<p><a title="TeamCity_013" href="http://www.flickr.com/photos/63483657@N00/2246920958/"><img src="http://static.flickr.com/2136/2246920958_abb96960eb.jpg" border="0" alt="TeamCity_013"></a></p>


<p>What I like is that you will be taken by the hannd for the rest of the steps. Click on the <strong>Create Project</strong> link.</p>


<p><a title="TeamCity_014" href="http://www.flickr.com/photos/63483657@N00/2246920960/"><img src="http://static.flickr.com/2070/2246920960_202f0716f0.jpg" border="0" alt="TeamCity_014"></a></p>


<p>Name of the project and a description. It will be useful if several projects are on the same build server.</p>


<p><a title="TeamCity_016" href="http://www.flickr.com/photos/63483657@N00/2246920966/"><img src="http://static.flickr.com/2098/2246920966_e3a40f81d3.jpg" border="0" alt="TeamCity_016"></a></p>


<p>Now click the <strong>Create build configuration</strong> link. You can have multiple build configuration by project.</p>


<p><a title="TeamCity_019" href="http://www.flickr.com/photos/63483657@N00/2246989440/"><img src="http://static.flickr.com/2191/2246989440_434968e2cb.jpg" border="0" alt="TeamCity_019"></a></p>


<p>In the build configuration window, you can change the way the build number are generated and the default behavior when the build fail. You can also specify that you want to start with a clean project.</p>


<p><a title="TeamCity_020" href="http://www.flickr.com/photos/63483657@N00/2246989444/"><img src="http://static.flickr.com/2210/2246989444_fdf5ddc886.jpg" border="0" alt="TeamCity_020"></a></p>


<p>There, you can decide how you want the project to be retrieved from the source control repository and where to put him. You can also decide when to label your build. If you do not want a label on a failed build, you can do so. Next, click on <strong>Choose build runner.</strong></p>


<p><a title="TeamCity_021" href="http://www.flickr.com/photos/63483657@N00/2246989450/"><img src="http://static.flickr.com/2062/2246989450_83d90c26fc.jpg" border="0" alt="TeamCity_021"></a></p>


<p>TeamCity is not only for .NET project. Several build runner are included such as MSBuild, NAnt, sln2003, sln2005, sln2008, Ant, Maven2, etc&#8230; Because I am using MbUnit as a testing framework I have decided to stick with MSBuild. But if you are using NUnit or MSTest you may want to use sln2003, sln2005, sln2008 as they can run your unit tests and tell the coverage of your assemblies. You need to fill in the <strong>Solution File Path</strong> field with the name of your .sln, it&#8217;s relative to your project structure (if it&#8217;s in the root, enter only the name of your solution file. Fill the rest of the field if you are using NUnit or MSTest.</p>


<p><a title="TeamCity_022" href="http://www.flickr.com/photos/63483657@N00/2246989456/"><img src="http://static.flickr.com/2237/2246989456_ca5e393444.jpg" border="0" alt="TeamCity_022"></a></p>


<p>Last step! Go to the <strong>Version Control Settings</strong> tab and click <strong>Create and attach new VCS root</strong>. Give it a name and choose the version control system (VCS) you want to use. Fill in the required field.</p>


<p>Save, and you&#8217;re done!</p>


<p>This is the most basic setup you can have. Of course, there is a lot of other things to configure to your specific needs. You can even have integration inside Visual Studio or Eclipse. As I said before the only downside I found is the lack of support for MbUnit, but I will work something to bypass that.</p>


<p>I may do another post going more in depth if I have time. Or maybe a screencast, that would be a lot of fun. If you&#8217;re interested, just leave a comment and I will consider it.</p>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/setting-up-a-basic-continuous-integration-server-with-teamcity/">Setting up a basic continuous integration server with TeamCity</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-02-08T06:21:00-05:00" pubdate data-updated="true">Feb 8<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>What is TeamCity? It&#8217;s a software that you would use to do <a href="http://martinfowler.com/articles/continuousIntegration.html" target="_blank">continuous integration</a>. Continuous integration is very important and it should never be an option on a serious project (that&#8217;s is my opinion and I strongly believe in the values it provide).</p>


<p>If you have followed the <a href="http://sebastienlachance.com/building-a-new-application-series/" target="_blank">Building A New Application Series</a>, you may be wondering why I would want to do that after setting up a complete integration server with CruiseControl.NET. Well, I was skeptical when I first heard about all the fuss surrounding this <a href="http://www.jetbrains.com/" target="_blank">JetBrains</a> project. After all, CruiseControl.NET was doing everything I wanted and more.</p>


<p>So the reason I made the switch is because of the time it take to set it up : 20 minutes. Everything was fully functional in under 20 minutes. I absolutely got no error at all. I just got through all the step of the wizard and then : done. Unit testing, code coverage, build, reports, etc&#8230; And it&#8217;s absolutely free for small team.</p>


<p>The big downside for me was the lack of support out of the box for other unit testing framework (other than NUnit and MSTest). My project is using MbUnit so I will need to do some more research to integrate it in my build process. But it is possible if you want to invest time in doing so.</p>


<p>So let&#8217;s get started with this little tutorial :</p>


<p>1. Download <a href="http://www.jetbrains.com/teamcity/" target="_blank">TeamCity</a>.</p>


<p>2. Start the installation.</p>


<p>Just follow all the steps. I encountered a slight problem due to something already on port 80, so I used the port 8080.</p>


<p><a title="TeamCity_001" href="http://www.flickr.com/photos/63483657@N00/2246121387/"><img src="http://static.flickr.com/2295/2246121387_bf1eaae094.jpg" border="0" alt="TeamCity_001" /></a></p>


<p><a title="TeamCity_002" href="http://www.flickr.com/photos/63483657@N00/2246121389/"><img src="http://static.flickr.com/2366/2246121389_06f17f5d5e.jpg" border="0" alt="TeamCity_002" /></a></p>


<p><a title="TeamCity_003" href="http://www.flickr.com/photos/63483657@N00/2246121395/"><img src="http://static.flickr.com/2391/2246121395_a81b1d955c.jpg" border="0" alt="TeamCity_003" /></a></p>


<p><a title="TeamCity_004" href="http://www.flickr.com/photos/63483657@N00/2246121397/"><img src="http://static.flickr.com/2266/2246121397_d27ffa9754.jpg" border="0" alt="TeamCity_004" /></a></p>


<p><a title="TeamCity_005" href="http://www.flickr.com/photos/63483657@N00/2246121399/"><img src="http://static.flickr.com/2164/2246121399_a18dd1cc62.jpg" border="0" alt="TeamCity_005" /></a></p>


<p><a title="TeamCity_006" href="http://www.flickr.com/photos/63483657@N00/2246121401/"><img src="http://static.flickr.com/2345/2246121401_5db16b8ce5.jpg" border="0" alt="TeamCity_006" /></a></p>


<p><a title="TeamCity_007" href="http://www.flickr.com/photos/63483657@N00/2246123377/"><img src="http://static.flickr.com/2175/2246123377_676d0d312b.jpg" border="0" alt="TeamCity_007" /></a></p>


<p>I left everything intact in this screen, but this is where you specify some default folder used bu the build agents. The <strong>tempDir </strong>and<strong> workDir</strong> will be used to store your application artifacts and even your source file before the compilation if you don&#8217;t give it one in the configuration (later).</p>


<p><a title="TeamCity_008" href="http://www.flickr.com/photos/63483657@N00/2246123379/"><img src="http://static.flickr.com/2064/2246123379_b4b8438c38.jpg" border="0" alt="TeamCity_008" /></a></p>


<p><a title="TeamCity_009" href="http://www.flickr.com/photos/63483657@N00/2246123381/"><img src="http://static.flickr.com/2389/2246123381_34aa922d4a.jpg" border="0" alt="TeamCity_009" /></a></p>


<p><a title="TeamCity_010" href="http://www.flickr.com/photos/63483657@N00/2246123385/"><img src="http://static.flickr.com/2295/2246123385_74a8416c54.jpg" border="0" alt="TeamCity_010" /></a></p>


<p>That&#8217;s it, you have installed TeamCity. Now let&#8217;s add our project to it.</p>


<p>3. Open TeamCity !!!</p>


<p><a title="TeamCity_011" href="http://www.flickr.com/photos/63483657@N00/2246123387/"><img src="http://static.flickr.com/2410/2246123387_81dfdba0b9.jpg" border="0" alt="TeamCity_011" /></a></p>


<p><a title="TeamCity_012" href="http://www.flickr.com/photos/63483657@N00/2246123391/"><img src="http://static.flickr.com/2087/2246123391_e1d68c0e3f.jpg" border="0" alt="TeamCity_012" /></a></p>


<p>Nothing too complicated here, just enter the username/password you want for the administrator account. The email will be used to sent important information the build server would want you to know..</p>


<p><a title="TeamCity_013" href="http://www.flickr.com/photos/63483657@N00/2246920958/"><img src="http://static.flickr.com/2136/2246920958_abb96960eb.jpg" border="0" alt="TeamCity_013" /></a></p>


<p>What I like is that you will be taken by the hannd for the rest of the steps. Click on the <strong>Create Project</strong> link.</p>


<p><a title="TeamCity_014" href="http://www.flickr.com/photos/63483657@N00/2246920960/"><img src="http://static.flickr.com/2070/2246920960_202f0716f0.jpg" border="0" alt="TeamCity_014" /></a></p>


<p>Name of the project and a description. It will be useful if several projects are on the same build server.</p>


<p><a title="TeamCity_016" href="http://www.flickr.com/photos/63483657@N00/2246920966/"><img src="http://static.flickr.com/2098/2246920966_e3a40f81d3.jpg" border="0" alt="TeamCity_016" /></a></p>


<p>Now click the <strong>Create build configuration</strong> link. You can have multiple build configuration by project.</p>


<p><a title="TeamCity_019" href="http://www.flickr.com/photos/63483657@N00/2246989440/"><img src="http://static.flickr.com/2191/2246989440_434968e2cb.jpg" border="0" alt="TeamCity_019" /></a></p>


<p>In the build configuration window, you can change the way the build number are generated and the default behavior when the build fail. You can also specify that you want to start with a clean project.</p>


<p><a title="TeamCity_020" href="http://www.flickr.com/photos/63483657@N00/2246989444/"><img src="http://static.flickr.com/2210/2246989444_fdf5ddc886.jpg" border="0" alt="TeamCity_020" /></a></p>


<p>There, you can decide how you want the project to be retrieved from the source control repository and where to put him. You can also decide when to label your build. If you do not want a label on a failed build, you can do so. Next, click on <strong>Choose build runner.</strong></p>


<p><a title="TeamCity_021" href="http://www.flickr.com/photos/63483657@N00/2246989450/"><img src="http://static.flickr.com/2062/2246989450_83d90c26fc.jpg" border="0" alt="TeamCity_021" /></a></p>


<p>TeamCity is not only for .NET project. Several build runner are included such as MSBuild, NAnt, sln2003, sln2005, sln2008, Ant, Maven2, etc&#8230; Because I am using MbUnit as a testing framework I have decided to stick with MSBuild. But if you are using NUnit or MSTest you may want to use sln2003, sln2005, sln2008 as they can run your unit tests and tell the coverage of your assemblies. You need to fill in the <strong>Solution File Path</strong> field with the name of your .sln, it&#8217;s relative to your project structure (if it&#8217;s in the root, enter only the name of your solution file. Fill the rest of the field if you are using NUnit or MSTest.</p>


<p><a title="TeamCity_022" href="http://www.flickr.com/photos/63483657@N00/2246989456/"><img src="http://static.flickr.com/2237/2246989456_ca5e393444.jpg" border="0" alt="TeamCity_022" /></a></p>


<p>Last step! Go to the <strong>Version Control Settings</strong> tab and click <strong>Create and attach new VCS root</strong>. Give it a name and choose the version control system (VCS) you want to use. Fill in the required field.</p>


<p>Save, and you&#8217;re done!</p>


<p>This is the most basic setup you can have. Of course, there is a lot of other things to configure to your specific needs. You can even have integration inside Visual Studio or Eclipse. As I said before the only downside I found is the lack of support for MbUnit, but I will work something to bypass that.</p>


<p>I may do another post going more in depth if I have time. Or maybe a screencast, that would be a lot of fun. If you&#8217;re interested, just leave a comment and I will consider it.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/screencast-and-my-opinion-about-typemock/">Screencast and my opinion about TypeMock</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-24T05:45:00-05:00" pubdate data-updated="true">Jan 24<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have always been told that TypeMock was too powerful, not strongly typed and for that, It shouldn&#8217;t be used. I believed that. The problem is : I should have given it a try before taking that for granted.</p>


<p>I have watched the <a href="http://weblogs.asp.net/rosherove/archive/2008/01/21/video-typemock-basics-lesson-1-dependency-breaking-101.aspx" target="_blank">Roy Osherove screencast</a> and was impressed! I am currently working on an existing code base that was done before we went Agile and even before we were doing object-oriented development. When I need to refactor certain features I usually start writing tests and then using dependency injection to be able to mock some object. The minimum to be testable with Rhino Mocks. But with TypeMock you can mock object and don&#8217;t even need to inject them. You can also make expectation on static methods. Isn&#8217;t that just great! I believe so.</p>


<p>However, I will stick with Rhino Mocks for now. I like the way It force me to decouple my code and in some sense, it provide me with guidance to make my work testable.</p>


<p>P.S. : This is just my opinion and not the absolute truth.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/nhibernate-saveorupdate-does-nothing/">NHibernate - SaveOrUpdate does nothing?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-23T05:39:00-05:00" pubdate data-updated="true">Jan 23<span>rd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Of course it does something, just make sure you call the Flush method on your session&#8230;</p>


<p>I have just started playing around with NHibernate for a personal project (the one I use for the <a href="http://sebastienlachance.com/building-a-new-application-series/" target="_blank">Building a new application series</a>) and I&#8217;m liking it. This make all the data access seems so easy. Maybe I will change my point of view after dealing with some collections and relationships.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/why-is-my-object-losing-all-of-its-values-when-sent-through-wcf/">Why is my object losing all of it&#8217;s values when sent through WCF?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-17T04:49:00-05:00" pubdate data-updated="true">Jan 17<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Applying the DataContract and DataMember attributes to my class is <strong>THE</strong> solution of this problem. Anyway, at least I didn&#8217;t loose much time.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/activatorcreateinstance-problem/">Activator.CreateInstance problem</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-17T04:47:00-05:00" pubdate data-updated="true">Jan 17<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There is thing you know you should do, but with too much confidence, you will forget. This was the case this morning with the Activator.CreateInstance method.</p>


<p>I was getting this error :</p>


<blockquote>
<p>Exception has been thrown by the target of an invocation.<br />&nbsp;&nbsp; at System.RuntimeTypeHandle.CreateInstance(RuntimeType type, Boolean publicOn<br />ly, Boolean noCheck, Boolean&amp; canBeCached, RuntimeMethodHandle&amp; ctor, Boolean&amp; b<br />NeedSecurityCheck)<br />&nbsp;&nbsp; at System.RuntimeType.CreateInstanceSlow(Boolean publicOnly, Boolean fillCach<br />e)<br />&nbsp;&nbsp; at System.RuntimeType.CreateInstanceImpl(Boolean publicOnly, Boolean skipVisi<br />bilityChecks, Boolean fillCache)<br />&nbsp;&nbsp; at System.Activator.CreateInstance(Type type, Boolean nonPublic)<br />&nbsp;&nbsp; at System.RuntimeType.CreateInstanceImpl(BindingFlags bindingAttr, Binder bin<br />der, Object[] args, CultureInfo culture, Object[] activationAttributes)<br />&nbsp;&nbsp; at System.Activator.CreateInstance(Type type, BindingFlags bindingAttr, Binde<br />r binder, Object[] args, CultureInfo culture, Object[] activationAttributes)<br />&nbsp;&nbsp; at System.Activator.CreateInstance(String assemblyName, String typeName, Bool<br />ean ignoreCase, BindingFlags bindingAttr, Binder binder, Object[] args, CultureI<br />nfo culture, Object[] activationAttributes, Evidence securityInfo, StackCrawlMar<br />k&amp; stackMark)<br />&nbsp;&nbsp; at System.Activator.CreateInstance(String assemblyName, String typeName)<br />&nbsp;&nbsp; at DynamicsGP.GPListener.Program.Main(String[] args)</p>
</blockquote>


<p>After double and triple checking with Reflector and outputing everything possible to the console, I wasn&#8217;t able to figure out what I did wrong.</p>


<p>The solution was easy, I was not checking the InnerException of the exception. Turn out is was only a missing dll.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/excellent-foundations-of-programming/">Excellent Foundations of Programming</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-14T04:46:00-05:00" pubdate data-updated="true">Jan 14<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Sometimes, you come across real treasure! This is one of them, printed and with me for a long time.</p>


<p>I have just finished reading the <a href="http://codebetter.com/blogs/karlseguin/archive/tags/Foundations/default.aspx" target="_blank">&#8220;Foundations of Programming&#8221;</a> series by Karl Seguin. This is a &#8220;Must Read&#8221;. It&#8217;s a really great series that cover all aspect of building an application. I can&#8217;t recommend it enough!</p>


<p><a href="http://codebetter.com/blogs/karlseguin/archive/2008/01/02/foundations-of-programming-pdf.aspx" target="_blank">Here is a link to the PDF file</a> which has all seven posts.</p>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/datasource-files-in-my-web-service-generated-files/">Datasource files in my Web Service generated files?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-14T04:15:00-05:00" pubdate data-updated="true">Jan 14<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div style="border: 1px solid gray; margin: 20px 0pt 10px; padding: 4px; overflow: auto; font-size: 8pt; width: 97.5%; cursor: text; max-height: 200px; line-height: 12pt; font-family: consolas,'Courier New',courier,monospace; background-color: #f4f4f4;">
<div style="border-style: none; padding: 0pt; overflow: visible; font-size: 8pt; width: 100%; color: black; line-height: 12pt; font-family: consolas,'Courier New',courier,monospace; background-color: #f4f4f4;">
<pre style="border-style: none; margin: 0pt; padding: 0pt; overflow: visible; font-size: 8pt; width: 100%; color: black; line-height: 12pt; font-family: consolas,'Courier New',courier,monospace; background-color: white;"><span style="color: #0000ff;">&lt;?</span><span style="color: #800000;">xml</span> <span style="color: #ff0000;">version</span><span style="color: #0000ff;">="1.0"</span> <span style="color: #ff0000;">encoding</span><span style="color: #0000ff;">="utf-8"</span>?<span style="color: #0000ff;">&gt;</span></pre>
<pre style="border-style: none; margin: 0pt; padding: 0pt; overflow: visible; font-size: 8pt; width: 100%; color: black; line-height: 12pt; font-family: consolas,'Courier New',courier,monospace; background-color: #f4f4f4;"><span style="color: #008000;">&lt;!--</span></pre>
<pre style="border-style: none; margin: 0pt; padding: 0pt; overflow: visible; font-size: 8pt; width: 100%; color: black; line-height: 12pt; font-family: consolas,'Courier New',courier,monospace; background-color: white;"><span style="color: #008000;">    This file is automatically generated by Visual Studio .Net. It is </span></pre>
<pre style="border-style: none; margin: 0pt; padding: 0pt; overflow: visible; font-size: 8pt; width: 100%; color: black; line-height: 12pt; font-family: consolas,'Courier New',courier,monospace; background-color: #f4f4f4;"><span style="color: #008000;">    used to store generic object data source configuration information.  </span></pre>
<pre style="border-style: none; margin: 0pt; padding: 0pt; overflow: visible; font-size: 8pt; width: 100%; color: black; line-height: 12pt; font-family: consolas,'Courier New',courier,monospace; background-color: white;"><span style="color: #008000;">    Renaming the file extension or editing the content of this file may   </span></pre>
<pre style="border-style: none; margin: 0pt; padding: 0pt; overflow: visible; font-size: 8pt; width: 100%; color: black; line-height: 12pt; font-family: consolas,'Courier New',courier,monospace; background-color: #f4f4f4;"><span style="color: #008000;">    cause the file to be unrecognizable by the program.</span></pre>
<pre style="border-style: none; margin: 0pt; padding: 0pt; overflow: visible; font-size: 8pt; width: 100%; color: black; line-height: 12pt; font-family: consolas,'Courier New',courier,monospace; background-color: white;"><span style="color: #008000;">--&gt;</span></pre>
<pre style="border-style: none; margin: 0pt; padding: 0pt; overflow: visible; font-size: 8pt; width: 100%; color: black; line-height: 12pt; font-family: consolas,'Courier New',courier,monospace; background-color: #f4f4f4;"><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">GenericObjectDataSource</span> <span style="color: #ff0000;">DisplayName</span><span style="color: #0000ff;">="Company"</span> <span style="color: #ff0000;">Version</span><span style="color: #0000ff;">="1.0"</span> <span style="color: #ff0000;">xmlns</span><span style="color: #0000ff;">="urn:schemas-microsoft-com:xml-msdatasource"</span><span style="color: #0000ff;">&gt;</span></pre>
<pre style="border-style: none; margin: 0pt; padding: 0pt; overflow: visible; font-size: 8pt; width: 100%; color: black; line-height: 12pt; font-family: consolas,'Courier New',courier,monospace; background-color: white;">   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">TypeInfo</span><span style="color: #0000ff;">&gt;</span>GPWebServices.Company, Web References.GPWebServices.Reference.cs, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">TypeInfo</span><span style="color: #0000ff;">&gt;</span></pre>
<pre style="border-style: none; margin: 0pt; padding: 0pt; overflow: visible; font-size: 8pt; width: 100%; color: black; line-height: 12pt; font-family: consolas,'Courier New',courier,monospace; background-color: #f4f4f4;"><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">GenericObjectDataSource</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
</div>


<p>I have a lots of files with the extension &#8220;.datasource&#8221;. It seems that Visual Studio generate those files, so that we can use the Web Service as a datasource of some sorts. I haven&#8217;t really played with that yet, I&#8217;m more inclined to bind my domain models directly.</p>


<p>I wonder if there is a way to deactivate the generation of this kind of files in Visual Studio. Stay tuned!</p>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/12/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/10/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <img src="/images/me.png" />
  <p>Sebastien Lachance, programmer since 2003.</p>
  <p>I am an entrepreneur and consultant. I have launched the <a href="http://www.guidedescommercesdebeauce.com">Guide des Commerces</a> in 2011, a project with great potential and had a lot of fun making it. 
  </p>
  <p>
    I&#8217;m a web developer specialized in Rails and ASP.NET MVC. I have a background in business applications but I really enjoy making any kind of software. 
  </p>
  <p>
    I do believe in the power of twitter, but I dont use it as much as I would.
    But feel free to follow me anyway :).
  </p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/startup-camp-quebec/">Startup Camp Quebec</a>
      </li>
    
      <li class="post">
        <a href="/blog/mastering-backbone-day-1-impressions/">Mastering Backbone - Day 1 impressions and basic concepts</a>
      </li>
    
      <li class="post">
        <a href="/blog/mastering-backbone-day-0/">Mastering Backbone - Day 0</a>
      </li>
    
      <li class="post">
        <a href="/blog/reponsive-and-mobile-friendly-design/">Reponsive and Mobile-Friendly Design with Skeleton</a>
      </li>
    
      <li class="post">
        <a href="/blog/couldnt-parse-yaml-at-line-x-column-x-psych-syntaxerror/">Couldn&#8217;t Parse YAML at Line X Column X (Psych::SyntaxError)</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/sebastienlachance">@sebastienlachance</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'sebastienlachance',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("slachance", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/slachance" class="twitter-follow-button" data-show-count="true">Follow @slachance</a>
  
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Sebastien Lachance -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'sebastienlachance';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
